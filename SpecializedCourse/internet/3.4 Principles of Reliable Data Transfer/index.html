
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A blogging site">
      
      
      
        <link rel="canonical" href="https://chenaming.github.io/SpecializedCourse/internet/3.4%20Principles%20of%20Reliable%20Data%20Transfer/">
      
      
        <link rel="prev" href="../3.3%20Connectionless%20Transport%20UDP/">
      
      
        <link rel="next" href="../3.5%20Connection-Oriented%20Transport%20TCP/">
      
      
      <link rel="icon" href="../../../logo.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>3.4 Principles of Reliable Data Transfer - 阿鸣的笔记</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Comic+Neue:300,300i,400,400i,700,700i%7CRed+Hat+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Comic Neue";--md-code-font:"Red Hat Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-JT9BRCXKJJ"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-JT9BRCXKJJ",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-JT9BRCXKJJ",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="deep-purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#34-principles-of-reliable-data-transfer" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="阿鸣的笔记" class="md-header__button md-logo" aria-label="阿鸣的笔记" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            阿鸣的笔记
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              3.4 Principles of Reliable Data Transfer
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="deep-purple"  aria-label="Dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="deep-orange"  aria-label="light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/chenaming/chenaming.github.io-main" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    chenaming/阿鸣的笔记
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../mkdocs/code-examples/" class="md-tabs__link">
          
  
    
  
  mkdocs

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../datastructure/xulun/" class="md-tabs__link">
          
  
    
  
  核心专业课

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../math/Discretemathematics/set/" class="md-tabs__link">
          
  
    
  
  数学

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../machinelearning/" class="md-tabs__link">
          
  
    
  
  机器学习

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="阿鸣的笔记" class="md-nav__button md-logo" aria-label="阿鸣的笔记" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    阿鸣的笔记
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/chenaming/chenaming.github.io-main" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    chenaming/阿鸣的笔记
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../.." class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../home/about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    关于我
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3" >
        
          
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    项目介绍
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            项目介绍
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../project/GraduationThesis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    毕业论文
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../project/embedded/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    嵌入式
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4" >
        
          
          <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    归档
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4">
            <span class="md-nav__icon md-icon"></span>
            归档
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../archive/2025/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2025
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5" >
        
          
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    分类
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            分类
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../category/tech/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tech
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../category/life/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    life
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    mkdocs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            mkdocs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../mkdocs/code-examples/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    代码示例
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../mkdocs/content-tabs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    标签示例
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../mkdocs/diagram-examples/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    图标示例
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../mkdocs/admonitions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    警告示例
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    核心专业课
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            核心专业课
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    数据结构
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            数据结构
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../datastructure/xulun/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    绪论
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../computerzuchen/c/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    计算机组成
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../os/o/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    操作系统
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" checked>
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    计算机网络
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            计算机网络
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2.1%20Principles%20of%20Network%20Applications/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.1 Principles of Network Applications
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2.2%20The%20Web%20and%20HTTP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.2 The Web and HTTP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2.3%20Electronic%20Mail%20in%20the%20Internet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.3 Electronic Mail in the Internet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2.4%20DNS---The%20Internet%27s%20Directory%20Service/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.4 DNS---The Internet's Directory Service
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2.5%20Peer-to-Peer%20File%20Distribution/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.5 Peer-to-Peer File Distribution
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3.1%20Introduction%20and%20Transport-Layer%20Services/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.1 Introduction and Transport-Layer Services
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3.2%20Multiplexing%20and%20Demultiplexing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.2 Multiplexing and Demultiplexing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3.3%20Connectionless%20Transport%20UDP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.3 Connectionless Transport: UDP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    3.4 Principles of Reliable Data Transfer
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    3.4 Principles of Reliable Data Transfer
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#341-building-a-reliable-data-transfer-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.1 Building a Reliable Data Transfer Protocol
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.4.1 Building a Reliable Data Transfer Protocol">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reliable-data-transfer-over-a-perfectly-reliable-channel-rdt10" class="md-nav__link">
    <span class="md-ellipsis">
      Reliable Data Transfer over a Perfectly Reliable Channel: rdt1.0
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reliable-data-transfer-over-a-channel-with-bit-errors-rdt20" class="md-nav__link">
    <span class="md-ellipsis">
      Reliable Data Transfer over a Channel with Bit Errors: rdt2.0
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reliable-data-transfer-over-a-lossy-channel-with-bit-errors-rdt30" class="md-nav__link">
    <span class="md-ellipsis">
      Reliable Data Transfer over a Lossy Channel with Bit Errors: rdt3.0
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#342-pipelined-reliable-data-transfer-protocols" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.2 Pipelined Reliable Data Transfer Protocols
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#343-go-back-ngbn" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.3 Go-Back-N(GBN)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#344-selective-repeatsr" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.4 Selective Repeat(SR)
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3.5%20Connection-Oriented%20Transport%20TCP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.5 Connection-Oriented Transport: TCP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3.6%20Principles%20of%20Congestion%20Control/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.6 Principles of Congestion Control
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3.7%20TCP%20Congestion%20Control/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.7 TCP Congestion Control
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4.1%20Overview%20of%20Network%20Layer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.1 Overview of Network Layer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4.2%20What%27s%20Inside%20a%20Router/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.2 What's Inside a Router?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4.3%20The%20Internet%20Protocol%28IP%29%20IPv4%2CAddressing%2CIPv6%2Cand%20More/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.3 The Internet Protocol(IP):IPv4,Addressing,IPv6,and More
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4.4%20Generalized%20Forwarding%20and%20SDN/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.4 Generalized Forwarding and SDN
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../FTP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FTP
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    数学
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            数学
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/Discretemathematics/set/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    离散数学
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../machinelearning/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    机器学习
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            机器学习
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#341-building-a-reliable-data-transfer-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.1 Building a Reliable Data Transfer Protocol
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.4.1 Building a Reliable Data Transfer Protocol">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reliable-data-transfer-over-a-perfectly-reliable-channel-rdt10" class="md-nav__link">
    <span class="md-ellipsis">
      Reliable Data Transfer over a Perfectly Reliable Channel: rdt1.0
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reliable-data-transfer-over-a-channel-with-bit-errors-rdt20" class="md-nav__link">
    <span class="md-ellipsis">
      Reliable Data Transfer over a Channel with Bit Errors: rdt2.0
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reliable-data-transfer-over-a-lossy-channel-with-bit-errors-rdt30" class="md-nav__link">
    <span class="md-ellipsis">
      Reliable Data Transfer over a Lossy Channel with Bit Errors: rdt3.0
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#342-pipelined-reliable-data-transfer-protocols" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.2 Pipelined Reliable Data Transfer Protocols
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#343-go-back-ngbn" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.3 Go-Back-N(GBN)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#344-selective-repeatsr" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.4 Selective Repeat(SR)
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/chenaming/chenaming.github.io-main/edit/main/docs/SpecializedCourse/internet/3.4 Principles of Reliable Data Transfer.md" title="编辑此页" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/chenaming/chenaming.github.io-main/raw/main/docs/SpecializedCourse/internet/3.4 Principles of Reliable Data Transfer.md" title="查看本页的源代码" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="34-principles-of-reliable-data-transfer">3.4 Principles of Reliable Data Transfer<a class="headerlink" href="#34-principles-of-reliable-data-transfer" title="Permanent link">&para;</a></h1>
<p>什么是可靠？
- 不错、不丢、不乱
可靠数据传输协议
- 可靠数据传输对应用层、传输层、链路层都很重要
- 网络top10问题
- 信道的不可靠特性决定了可靠数据传输协议(rdt)的复杂性</p>
<p><img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/bfddda0e0c7643c59737ec55667df1df.png#pic_center" /></p>
<p>reliable service abstraction
reliable service implementation
Complexity of reliable data transfer protocol  will depend (strongly) on characteristics of unreliable channel (lose, corrupt, reorder data?)
Sender, receiver do not know the “state” of each other, e.g., was a message received?
- unless communicated via a message</p>
<p>Reliable data transfer protocol (rdt): interfaces
rdt_send(): called from above, (e.g., by app.). Passed data to deliver to receiver upper layer</p>
<p>udt_send(): called by rdt to transfer packet over unreliable channel to receiver</p>
<p>deliver_data(): called by rdt to deliver data to upper layer</p>
<p>rdt_rcv(): called when packet arrives on receiver side of channel</p>
<p>Reliable data transfer: getting started
We will:
- incrementally develop sender, receiver sides of reliable data transfer protocol (rdt)
- consider only unidirectional data transfer
    - but control info will flow in both directions!
- use finite state machines (FSM)  to specify sender, receiver</p>
<p><img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/855a50a8f4bc4548855170fa1ef69b64.png#pic_center" /></p>
<h2 id="341-building-a-reliable-data-transfer-protocol">3.4.1 Building a Reliable Data Transfer Protocol<a class="headerlink" href="#341-building-a-reliable-data-transfer-protocol" title="Permanent link">&para;</a></h2>
<h3 id="reliable-data-transfer-over-a-perfectly-reliable-channel-rdt10">Reliable Data Transfer over a Perfectly Reliable Channel: rdt1.0<a class="headerlink" href="#reliable-data-transfer-over-a-perfectly-reliable-channel-rdt10" title="Permanent link">&para;</a></h3>
<ul>
<li>underlying channel perfectly reliable<ul>
<li>no bit errors</li>
<li>no loss of packets</li>
</ul>
</li>
<li>separate FSMs for sender, receiver:<ul>
<li>sender sends data into underlying channel</li>
<li>receiver reads data from underlying channel</li>
</ul>
</li>
</ul>
<p><img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/3b7af28134a946ccae14379f2ab9f6c9.png#pic_center" /></p>
<h3 id="reliable-data-transfer-over-a-channel-with-bit-errors-rdt20">Reliable Data Transfer over a Channel with Bit Errors: rdt2.0<a class="headerlink" href="#reliable-data-transfer-over-a-channel-with-bit-errors-rdt20" title="Permanent link">&para;</a></h3>
<ul>
<li>underlying channel may flip bits in packet底层信道可能翻转分组中的位<ul>
<li>checksum (e.g., Internet checksum) to detect bit errors</li>
</ul>
</li>
<li>the question: how to recover from errors?</li>
</ul>
<blockquote>
<p>[!question] How do humans recover from “errors” during conversation?
</p>
</blockquote>
<p>•acknowledgements (<mark>ACKs</mark>): receiver explicitly tells sender that pkt received OK</p>
<p>•negative acknowledgements (<mark>NAKs</mark>): receiver explicitly tells sender that pkt had errors</p>
<p>•sender <mark>retransmits</mark> pkt on receipt of NAK</p>
<p>基于这种重传机制的rdt协议称为ARQ(Automatic Repeat reQuest)协议</p>
<p>Rdt2.0中引入的新机制
- 差错检测
- 接收方反馈控制信息：ACK/NAK
- 重传</p>
<p>stop and wait
sender sends one packet,  then waits for receiver  response</p>
<p>rdt2.0: FSM specifications
Rdt 2.0: FSM规约</p>
<p><img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/35bd20c400eb427c83d010f64c70223f.png#pic_center" /></p>
<p>Note: “state” of receiver (did the receiver get my message correctly?) isn’t known to sender unless somehow communicated from receiver to sender
- that’s why we need a protocol!</p>
<p>rdt2.0: operation with no errors
rdt2.0: corrupted packet scenario</p>
<p>rdt2.0 has a fatal flaw!
what happens if ACK/NAK corrupted?
- sender doesn’t know what happened at receiver!
    - 为ACK/NAK增加校验和，检错并纠错
    - 发送方收到被破坏ACK/NAK时不知道接收方发生了什么，添加额外的控制消息
    - 如果ACK/NAK坏掉，发送方重传
    - 不能简单的重传：产生重复分组
- can’t just retransmit: possible duplicate
handling duplicates:
- sender retransmits current pkt if ACK/NAK corrupted
- sender adds <mark>sequence number</mark> to each pkt
- receiver discards (doesn’t deliver up) duplicate pkt</p>
<p>rdt2.1: sender, handling garbled ACK/NAKs
<img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/724b1732fac44a199c3d964dc40fe4e7.png#pic_center" /></p>
<p>rdt2.1: receiver, handling garbled ACK/NAKs
<img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/2befc9ff45ae4a64a1c72c340eb52d2a.png#pic_center" /></p>
<p>rdt2.1: discussion</p>
<p>sender:
- seq # added to pkt
- two seq. # s(0,1) will suffice.  Why?
- must check if received ACK/NAK corrupted
- twice as many states
    - state must “remember” whether “expected” pkt should have seq # of 0 or 1
receiver:
- must check if received packet is duplicate
    - state indicates whether 0 or 1 is expected pkt seq #
- note: receiver can not know if its last ACK/NAK received OK at sender</p>
<p>我们真的需要两种确认消息（ACK+NAK）吗？
rdt2.2: a NAK-free protocol
- same functionality as rdt2.1, using ACKs only
- instead of NAK, receiver sends ACK for last pkt received OK
    - receiver must explicitly include seq # of pkt being ACKed
- duplicate ACK at sender results in same action as NAK: retransmit current pkt</p>
<p>As we will see, TCP uses this approach to be NAK-free</p>
<p><img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/30ac6953352f4e68acd694f5726c7813.png#pic_center" /></p>
<p><img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/dff62c3e8d7e4ed2947a782d3274ab67.png#pic_center" /></p>
<h3 id="reliable-data-transfer-over-a-lossy-channel-with-bit-errors-rdt30">Reliable Data Transfer over a Lossy Channel with Bit Errors: rdt3.0<a class="headerlink" href="#reliable-data-transfer-over-a-lossy-channel-with-bit-errors-rdt30" title="Permanent link">&para;</a></h3>
<p>rdt3.0: channels with errors and loss</p>
<p>New channel assumption: underlying channel can also lose packets (data, ACKs)</p>
<p>•checksum, sequence # s, ACKs, retransmissions will be of help … but not quite enough</p>
<blockquote>
<p>[!question] Q: How do humans handle lost sender-to-receiver words in conversation?
</p>
</blockquote>
<p>Approach: sender waits “reasonable” amount of time for ACK
- retransmits if no ACK received in this time
- if pkt (or ACK) just delayed (not lost):
    - retransmission will be  duplicate, but seq # s already handles this!
    - receiver must specify seq # of packet being ACKed
- use countdown timer to interrupt after “reasonable” amount of time</p>
<p><img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/e7c67e089a004c719be1831fdec27c76.png#pic_center" /></p>
<p><img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/2627c440da8c4e0fa2976cf8b8f73127.png#pic_center" /></p>
<h2 id="342-pipelined-reliable-data-transfer-protocols">3.4.2 Pipelined Reliable Data Transfer Protocols<a class="headerlink" href="#342-pipelined-reliable-data-transfer-protocols" title="Permanent link">&para;</a></h2>
<p>Performance of rdt3.0 (stop-and-wait)
- U sender: utilization – fraction of time sender busy sending
- example: 1 Gbps link, 15 ms prop. delay, 8000 bit packet
    - time to transmit packet into channel:
Dtrans=L(packet length in bits)/R(transmission rate,bps)=8000 bits/109 bits/sec=8 microsecs</p>
<p>发送方利用率：发送方发送时间百分比</p>
<p>rdt 3.0 protocol performance stinks!
Protocol limits performance of underlying infrastructure (channel)</p>
<p><img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/49b7263dbb494158a0c41c65a4aab5ea.png#pic_center" /></p>
<p>rdt3.0: pipelined protocols operation
pipelining: sender allows multiple, “in-flight”, yet-to-be-acknowledged packets
•range of sequence numbers must be increased
•buffering at sender and/or receiver</p>
<p><img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/4f9f968af3894736bc74360eece1df4c.png#pic_center" /></p>
<h2 id="343-go-back-ngbn">3.4.3 Go-Back-N(GBN)<a class="headerlink" href="#343-go-back-ngbn" title="Permanent link">&para;</a></h2>
<p>滑动窗口协议：Sliding-window protocol
窗口
- 允许使用的序列号范围
- 窗口尺寸为N：最多有N个等待确认的消息
滑动窗口
- 随着协议的运行，窗口在序列号空间内向前滑动
滑动窗口协议：GBN,SR</p>
<p>Go-Back-N: sender
- sender: “window” of up to N, consecutive transmitted but unACKed pkts
    - k-bit seq # in pkt header</p>
<ul>
<li>cumulative ACK: ACK(n): ACKs all packets up to, including seq # n<ul>
<li>on receiving ACK(n): move window forward to begin at n+1</li>
</ul>
</li>
<li>timer for oldest in-flight packet</li>
<li>timeout(n): retransmit packet n and all higher seq # packets in window</li>
</ul>
<p><img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/9cbe8f8bde79492e891e3f4686eddb49.png#pic_center" /></p>
<p>GBN:发送方扩展FSM</p>
<p><img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/62746b2d7223427da1488cb527ec6259.png#pic_center" /></p>
<p><img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/43436172cd674533a451b68d43f5c73d.png#pic_center" /></p>
<ul>
<li>ACK-only: always send ACK for correctly-received packet so far, with highest in-order seq #<ul>
<li>may generate duplicate ACKs</li>
<li>need only remember rcv_base</li>
</ul>
</li>
<li>on receipt of out-of-order packet:<ul>
<li>can discard (don’t buffer) or buffer: an implementation decision</li>
<li>re-ACK pkt with highest in-order seq #</li>
</ul>
</li>
</ul>
<p>Go-Back-N in action</p>
<p><img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/f559df1f009b4ae7b445c6ce22d9894d.png#pic_center" /></p>
<h2 id="344-selective-repeatsr">3.4.4 Selective Repeat(SR)<a class="headerlink" href="#344-selective-repeatsr" title="Permanent link">&para;</a></h2>
<ul>
<li>GBN有什么缺陷？</li>
<li>接收方对每个分组单独进行确认<ul>
<li>设置缓存机制，缓存乱序到达的分组</li>
</ul>
</li>
<li>发送方只重传那些没收到ACK的分组<ul>
<li>为每个分组设置定时器</li>
</ul>
</li>
<li>发送方窗口<ul>
<li>N个连续的序列号</li>
<li>限制已发送且未确认的分组</li>
</ul>
</li>
</ul>
<p>Selective repeat: the approach
- pipelining:  multiple packets in flight
- receiver individually ACKs all correctly received packets
    - buffers packets, as needed, for in-order delivery to upper layer
sender:
- maintains (conceptually) a timer for each unACKed pkt
    - timeout: retransmits single unACKed packet  associated with timeout
- maintains (conceptually) “window” over  N consecutive seq # s
    - limits pipelined, “in flight” packets to be within this window</p>
<p>Selective repeat: sender, receiver windows</p>
<p><img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/95406a761a2441acbe743c7d02ac511a.png#pic_center" /></p>
<p>Selective repeat: sender and receiver</p>
<p><img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/ce6d2443fac3444ba48aba0abbcc73ca.png#pic_center" />
sender
data from above:
- if next available seq # in window, send packet
timeout(n):
- resend packet n, restart timer
ACK(n) in 【sendbase,sendbase+N-1】:
- mark packet n as received
- if n smallest unACKed packet, advance window base to next unACKed seq #</p>
<p><img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/32cd7e15c6a348d795fe1afda4074c8b.png#pic_center" /></p>
<p>receiver
packet n in [rcvbase, rcvbase+N-1]
- send ACK(n)
- out-of-order: buffer
- in-order: deliver (also deliver buffered, in-order packets), advance window to next not-yet-received packet
packet n in [rcvbase-N,rcvbase-1]
- ACK(n)
otherwise:
- ignore</p>
<p>Selective Repeat in action</p>
<p><img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/65ed98fe2af24eafbb373493e9e17f9d.png#pic_center" /></p>
<p>Selective repeat:  a dilemma!
<img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/4e604a80ee91411e9776ac6a31477ecb.png#pic_center" />
example:</p>
<p>seq # s: 0, 1, 2, 3 (base 4 counting)
window size=3</p>
<p>receiver can’t see sender side</p>
<p>receiver behavior identical in both cases!</p>
<p>something’s (very) wrong!</p>
<p>Q: what relationship is needed between sequence # size and window size to avoid problem in scenario (b)?</p>
<p>summary
<img alt="在这里插入图片描述" src="https://i-blog.csdnimg.cn/direct/ed3e2836dbdc4e22aaf989a63795c08e.png#pic_center" /></p>









  



<div id="__comments">



<!-- <div class="tx-switch">
<button data-md-color-scheme="default"><code>default</code></button>
<button data-md-color-scheme="slate"><code>slate</code></button>
</div>

<script>
var buttons = document.querySelectorAll("button[data-md-color-scheme]")
buttons.forEach(function(button) {
        button.addEventListener("click", function() {
        var attr = this.getAttribute("data-md-color-scheme")
        document.body.setAttribute("data-md-color-scheme", attr)
        localStorage.setItem("data-md-color-scheme",attr);
        updateScheme();
        })
})
</script> -->





<h2 ><!-- 评论 -->评论区~</h2>

</br>



</div>

<script src="https://giscus.app/client.js"
        data-repo="xuan-insr/discussion"
        data-repo-id="R_kgDOIUW7XA"
        data-category="General"
        data-category-id="DIC_kwDOIUW7XM4CSOC3"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="dark"
        data-lang="zh-CN"
        crossorigin="anonymous"
        async>

updateScheme();

</script>

<!-- Synchronize Giscus theme with palette -->
<script>
var giscus = document.querySelector("script[src*=giscus]")

/* Set palette on initial load */
var palette = __md_get("__palette")
if (palette && typeof palette.color === "object") {
    var theme = palette.color.scheme === "slate" ? "dark" : "light"
    giscus.setAttribute("data-theme", theme) 
}

/* Register event handlers after documented loaded */
document.addEventListener("DOMContentLoaded", function() {
    var ref = document.querySelector("[data-md-component=palette]")
    ref.addEventListener("change", function() {
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
        var theme = palette.color.scheme === "slate" ? "dark" : "light"
        localStorage.setItem("data-md-color-scheme", palette.color.scheme === "slate" ? "slate" : "default");
        /* Instruct Giscus to change theme */
        var frame = document.querySelector(".giscus-frame")
        frame.contentWindow.postMessage(
        { giscus: { setConfig: { theme } } },
        "https://giscus.app"
        )
    }
    })
})
</script>
                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../3.3%20Connectionless%20Transport%20UDP/" class="md-footer__link md-footer__link--prev" aria-label="上一页: 3.3 Connectionless Transport: UDP">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                3.3 Connectionless Transport: UDP
              </div>
            </div>
          </a>
        
        
          
          <a href="../3.5%20Connection-Oriented%20Transport%20TCP/" class="md-footer__link md-footer__link--next" aria-label="下一页: 3.5 Connection-Oriented Transport: TCP">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                3.5 Connection-Oriented Transport: TCP
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 Chenaming
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/chenaming" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:chena_ming@outlook.com" target="_blank" rel="noopener" title="Email" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 112c-8.8 0-16 7.2-16 16v22.1l172.5 141.6c20.7 17 50.4 17 71.1 0L464 150.1V128c0-8.8-7.2-16-16-16zM48 212.2V384c0 8.8 7.2 16 16 16h384c8.8 0 16-7.2 16-16V212.2L322 328.8c-38.4 31.5-93.7 31.5-132 0zM0 128c0-35.3 28.7-64 64-64h384c35.3 0 64 28.7 64 64v256c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.action.edit", "content.action.view", "content.code.copy", "navigation.footer", "navigation.tabs", "content.code.annotate", "navigation.indexes", "navigation.top", "toc.follow", "search.suggest", "search.highlight", "search.share"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../../../javascripts/extra.js"></script>
      
    
  </body>
</html>